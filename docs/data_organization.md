# Data organization

The ImageXpress by Molecular Devices has an opinionated data structure, and wrmXpress assumes this structure.

Each experiment should include a root directory with the plate name formated as `YYYYMMDD-p##-XYZ` where `p##` is a plate number and `XYZ` are the investigator's initials. The plate name may also include a random integer/index appended in the format `_###`.

Inside a plate folder, there are two options for organizing the images, either as an individual TIF image for each well stored in a directory of each time point (total number of images = # time points x # wells x # wavelengths) or as a single AVI video for each well (total number of videos = # wells).

## TIF files

Compatible with the following pipelines:

- [Motility](pipelines/motility.md)
- [Fecundity](pipelines/fecundity.md)
- [Toxicity](pipelines/toxicity.md)
- [Feeding](pipelines/feeding.md)
- [Development](pipelines/development.md)
- [Tracking](pipelines/tracking.md)

Detailed data structure expectactions for each pipeline can be found in the relevant pipeline documentation.

Inside of the plate directory should be separate directories for each time point formatted as `TimePoint_#` and starting with `TimePoint_1`. If no additional time points were included in the experiment, then the only folder inside of the root directory will be `TimePoint_1`.

Time point folders will contain the raw images in `.TIF` format. Each image should be named `{plate name}_{well}.TIF` or `{plate name}_{well}_{wavelength}_{site}.TIF` for multiwavelength, multisite experiments. If there was an index appended to the plate name, this should not be included in the image names.

Example of these data structures are shown below:

<p align="center">
  <img alt="Structure for TIF files" src="../img/tif_structure.png" width="47%">
&nbsp; &nbsp; &nbsp; &nbsp;
  <img alt="Structure for multiwavelength experiments" src="../img/multiwavelength_structure.png" width="47%">
</p>

*Note that a `.HTD` files are included in these structure, which is generated by the ImageXpress but not necessary for wrmXpress usage.*

## AVI files

Compatible with the following pipelines:

- [Motility](pipelines/motility.md)
- [Tracking](pipelines/tracking.md)

Some pipelines accept AVI video files instead TIF files within time point folders. In this case, the root plate folder should contain the AVI files in the format `{plate name}_{well}.AVI`, as below:

<img src="../img/avi_structure.png" width="40%" hspace="10" align="top-left"/>

In this case, the AVI file structure needs to be selected in Configuration. During analysis, the files may be rearranged to include the time point/TIF structure described above. If so, it is recommended that subsequent analyses should  maintain the reorganized structure and adjust the Configuration selections accordingly.